<html><head><title>PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.EncryptingPasswords</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.EncryptingPasswords</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
<a href="PlugIns.JdbcSlim.UserGuide.html">UserGuide</a>
<a href="PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.html">3HowtoConfigureTheDatabaseConnection</a>
</h2></br><br/><br/><h3>WARNING: Any smart user of <span class="fitnesse">FitNesse</span> can decryt the encrypted passwords!</h3>
The current implementation avoids that passwords are stored in clear text in files.<br/>If you need more security implement a different store for your passwords.<br/>You can configure a different decrypting mechanism by creating a class implementing `six42.fitnesse.jdbcslim.propertydecode.PropertyDecoder` and setting ".propertyDecoder" to contain its name.<br/><br/><h4>CREDIT: The Encryption implementation is taken from the <a href="http://github.com/dbfit/dbfit.html">dbfit</a> library.</h4>
  <br/>To encrypt a password run:<br/><br/><p class="note">java -cp "commons-codec-1.9.jar;dbfit-core-3.2.0.jar" dbfit.util.crypto.CryptoApp **SECRET** -keyStoreLocation ./plugins/jdbcslim/TestDB/</p><br/>Replace **SECRET** with your password<br/>If no keyfile exists it will create a new one named .dbfit.jks<br/>The keyfile must always be named: .dbfit.jks<br/><br/><br/>Define the location of your key file with ".keyStoreLocation" <br/>it is possible to use multiple key files in different locations.<br/><br/><br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>SecretDefinition</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>user</td>
		<td>James</td>
	</tr>
	<tr>
		<td>.keyStoreLocation</td>
		<td>./plugins/jdbcslim/TestDB/</td>
	</tr>
	<tr>
		<td>password</td>
		<td>ENC(dP8utYfMtmrWZCylvGsOGw==)</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td>Save the world!</td>
	</tr>
</table>
<br/>Check that all the content is now available<br/>and the password is not shown in clear text<br/><br/><table>
	<tr>
		<td>Table: SheetCommandBase</td>
		<td>SecretDefinition</td>
		<td></td>
		<td>SORT</td>
	</tr>
	<tr>
		<td>Key?&lt;1</td>
		<td colspan="3">Value?</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td colspan="3">Save the world!</td>
	</tr>
	<tr>
		<td>password</td>
		<td colspan="3">****</td>
	</tr>
	<tr>
		<td>sort</td>
		<td colspan="3"></td>
	</tr>
	<tr>
		<td>user</td>
		<td colspan="3">James</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>Script</td>
		<td>Define Properties</td>
		<td></td>
	</tr>
	<tr>
		<td>show</td>
		<td>show</td>
		<td>SecretDefinition</td>
	</tr>
</table>
<br/><br/>Use the "getSecretProperty" function to access encrypted data in your fixture<br/><br/></article></body></html>