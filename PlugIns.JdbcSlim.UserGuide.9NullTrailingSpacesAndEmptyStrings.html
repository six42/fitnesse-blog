<html><head><title>PlugIns.JdbcSlim.UserGuide.9NullTrailingSpacesAndEmptyStrings</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.UserGuide.9NullTrailingSpacesAndEmptyStrings</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
<a href="PlugIns.JdbcSlim.UserGuide.html">UserGuide</a>
</h2></br><br/><br/>To insert or update <b>null</b> values define input parameters and use "?" syntax.<br/>Specify null as <b>#null#</b><br/><br/>To insert leading and trailing Spaces use the <b>!- Denver </b><b>-!</b> syntax<br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>inParameters</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>Name</td>
		<td>I:1:12:0</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>insert into TestData
values (DEFAULT, ?, '%Phone%', '%City%', '%Profession%')</td>
		<td colspan="3">dbgetgeneratedkeys 
dbQueryParameters=inParameters</td>
	</tr>
	<tr>
		<td>SCOPE_IDENTITY()?</td>
		<td>City</td>
		<td>Name</td>
		<td>Phone</td>
		<td>Profession</td>
		<td>Count?</td>
	</tr>
	<tr>
		<td>$ID1=</td>
		<td>Berlin</td>
		<td>#null#</td>
		<td>12345</td>
		<td></td>
		<td>1</td>
	</tr>
	<tr>
		<td>$ID2=</td>
		<td>     Denver</td>
		<td>Bob     </td>
		<td>6789</td>
		<td></td>
		<td>1</td>
	</tr>
</table>
<br/><br/>To test  <b>null</b> values in output specify null as <b>#null#</b><br/><br/>To test leading and trailing spaces use the <b>!- text </b><b>-!</b> syntax or regex <b>=~/\A text \z/</b><br/><br/>To test for an empty string use regex <b>=~/\A\z/</b><br/><p class="note">Define this pattern in a variable it will likely changes in the future to something more readable</p><span class="meta">variable defined: EmptyString==~/\A\z/</span>
<br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td colspan="3">select City, Name, Name|| City as CityName, Profession from  TestData where ID ='%ID%'</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>City?</td>
		<td>Name?</td>
		<td>CityName?</td>
		<td>Profession?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td>=~/\ABerlin\z/</td>
		<td>#null#</td>
		<td>#null#</td>
		<td></td>
	</tr>
	<tr>
		<td>$ID2</td>
		<td>=~/\A     Denver\z/</td>
		<td>Bob     </td>
		<td>Bob          Denver</td>
		<td>=~/\A\z/</td>
	</tr>
</table>
<br/><br/>if you must insert the string #null# in the database you can define a different null pattern with the property <b>inputNullString</b><br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>inParameters</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>Name</td>
		<td>I:1:12:0</td>
	</tr>
	<tr>
		<td>City</td>
		<td>I:2:12:0</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>update TestData set Name = ?, City = ? where ID ='%ID%'</td>
		<td>inputNullString=--null-- 
dbQueryParameters=inParameters</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>City</td>
		<td>Name</td>
		<td>Count?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td>--null--</td>
		<td>#null#</td>
		<td>1</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td colspan="3">select City, Name, length(City) as CityLength, length(Name) as NameLength  from  TestData where ID ='%ID%'</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>City?</td>
		<td>Name?</td>
		<td>CityLength?</td>
		<td>NameLength?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td>#null#</td>
		<td>#null#</td>
		<td>#null#</td>
		<td>6</td>
	</tr>
</table>
<br/>You can also change the output format for null values with the property <b>outputNullString</b><br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>select City, Name, length(City) as CityLength, length(Name) as NameLength  from  TestData where ID ='%ID%'</td>
		<td colspan="2">outputNullString=++null++</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>City?</td>
		<td>Name?</td>
		<td>CityLength?</td>
		<td>NameLength?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td>++null++</td>
		<td>#null#</td>
		<td>++null++</td>
		<td>6</td>
	</tr>
</table>
<br/><br/><br/><div class="collapsible invisible"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Cleanup</p>
	<div><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>delete TestData  where ID ='%ID%'</td>
	</tr>
	<tr>
		<td>ID</td>
		<td colspan="2">Count?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td colspan="2">1</td>
	</tr>
	<tr>
		<td>$ID2</td>
		<td colspan="2">1</td>
	</tr>
</table>
<br/><br/></div>
</div>
<br/><div class="contents">
	<b>Contents:</b>
	<ul class="toc1"/>
</div>
<br/><br/></article></body></html>