<html><head><title>PlugIns.JdbcSlim.UserGuide.4TheMappingBetweenTestDataAndCommands.InsertUpdateDelete</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.UserGuide.4TheMappingBetweenTestDataAndCommands.InsertUpdateDelete</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
<a href="PlugIns.JdbcSlim.UserGuide.html">UserGuide</a>
<a href="PlugIns.JdbcSlim.UserGuide.4TheMappingBetweenTestDataAndCommands.html">4TheMappingBetweenTestDataAndCommands</a>
</h2></br><br/>The SQL Commands <i>Insert</i>, <i>Update</i> and <i>Delete</i> return no normal output.<br/>Instead they return the number of rows inserted, updated or deleted in a column called: <b>Count</b><br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>insert into TestData
values (DEFAULT, '%Name%', '%Phone%', '%City%', '%Profession%')</td>
		<td colspan="3">dbgetgeneratedkeys</td>
	</tr>
	<tr>
		<td>SCOPE_IDENTITY()?</td>
		<td>City</td>
		<td>Name</td>
		<td>Phone</td>
		<td>Profession</td>
		<td>Count?</td>
	</tr>
	<tr>
		<td>$ID1=</td>
		<td>Berlin</td>
		<td>Boby</td>
		<td>12345</td>
		<td>Doctor</td>
		<td>1</td>
	</tr>
	<tr>
		<td>$ID2=</td>
		<td>Denver</td>
		<td>Bob</td>
		<td>6789</td>
		<td>Artist</td>
		<td>1</td>
	</tr>
	<tr>
		<td>$ID3=</td>
		<td>Sydney</td>
		<td>Bob</td>
		<td>6789</td>
		<td>Artist</td>
		<td>1</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>update TestData set City='%NewCITY%' where ID ='%ID%'</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>NewCITY</td>
		<td>Count?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td>HongKong</td>
		<td>1</td>
	</tr>
	<tr>
		<td>$ID2</td>
		<td>Tokyo</td>
		<td>1</td>
	</tr>
</table>
<br/>By defining the property <b>DbUpdateCount</b> a different column name can be defined.<br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>UpdateDatabase</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TestDatabase</td>
	</tr>
	<tr>
		<td>DbUpdateCount</td>
		<td>HowManyUpdates</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>UpdateDatabase</td>
		<td>update TestData set City='%NewCITY%' where NAME like'%Name%'</td>
	</tr>
	<tr>
		<td>Name</td>
		<td>NewCITY</td>
		<td>HowManyUpdates?</td>
	</tr>
	<tr>
		<td>Bob%</td>
		<td>HongKong</td>
		<td>3</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>TestDatabase</td>
		<td>delete TestData  where ID &gt;='%ID%'</td>
	</tr>
	<tr>
		<td>ID</td>
		<td colspan="2">Count?</td>
	</tr>
	<tr>
		<td>$ID1</td>
		<td colspan="2">3</td>
	</tr>
	<tr>
		<td>$ID2</td>
		<td colspan="2">0</td>
	</tr>
</table>
<br/><div class="contents">
	<b>Contents:</b>
	<ul class="toc1">
		<li>
			<a href="PlugIns.JdbcSlim.UserGuide.4TheMappingBetweenTestDataAndCommands.InsertUpdateDelete.CommandChain.html" class="test pruned">Command Chain +-</a>
		</li>
		<li>
			<a href="PlugIns.JdbcSlim.UserGuide.4TheMappingBetweenTestDataAndCommands.InsertUpdateDelete.SelectUpdateSelect.html" class="test pruned">Select Update Select +-</a>
			<span class="pageHelp">: Not working with H2 maybe other jdbcDriver support this</span>
		</li>
	</ul>
</div>
<br/><br/></article></body></html>