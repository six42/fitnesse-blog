<html><head><title>PlugIns.JdbcSlim.UserGuide.1ASimpleExample.WritingGenericRequirementsWithAlias.SqlSetup</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.UserGuide.1ASimpleExample.WritingGenericRequirementsWithAlias.SqlSetup</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
<a href="PlugIns.JdbcSlim.UserGuide.html">UserGuide</a>
<a href="PlugIns.JdbcSlim.UserGuide.1ASimpleExample.html">1ASimpleExample</a>
<a href="PlugIns.JdbcSlim.UserGuide.1ASimpleExample.WritingGenericRequirementsWithAlias.html">WritingGenericRequirementsWithAlias</a>
</h2></br><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>FindTestUserIDs</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td>select ID, NAME from TestData where Name ='%NAME%'</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Define Properties</td>
		<td>CheckInitalCityOfUsers</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td>select City from TestData where ID ='%ID%'</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Define Properties</td>
		<td>RelocateUserToNewCity</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td>update TestData set City='%NewCITY%' where ID ='%ID%'</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Define Properties</td>
		<td>CheckFinalCityOfUsers</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td>cmd</td>
		<td>select City from TestData where ID ='%ID%'</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>FindTestUserIDs</td>
	</tr>
	<tr>
		<td>$FTU=</td>
		<td colspan="2">get fixture</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="2">Define alias</td>
	</tr>
	<tr>
		<td>find test users</td>
		<td>table: $FTU</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>CheckInitalCityOfUsers</td>
	</tr>
	<tr>
		<td>$CICoU=</td>
		<td colspan="2">get fixture</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="2">Define alias</td>
	</tr>
	<tr>
		<td>check first city of users</td>
		<td>table: $CICoU</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>RelocateUserToNewCity</td>
	</tr>
	<tr>
		<td>$RUTNC=</td>
		<td colspan="2">get fixture</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="2">Define alias</td>
	</tr>
	<tr>
		<td>relocate users</td>
		<td>table: $RUTNC</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>CheckFinalCityOfUsers</td>
	</tr>
	<tr>
		<td>$CFCoU=</td>
		<td colspan="2">get fixture</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="2">Define alias</td>
	</tr>
	<tr>
		<td>Check city after relocation</td>
		<td>table: $CFCoU</td>
	</tr>
</table>
<br/><br/><br/>To avoid side effects we execute the test in a transaction<br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td colspan="3">open Connection</td>
	</tr>
	<tr>
		<td>execute</td>
		<td colspan="2">begin transaction</td>
	</tr>
</table>
</article></body></html>