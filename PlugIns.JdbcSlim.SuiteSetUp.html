<html><head><title>PlugIns.JdbcSlim.SuiteSetUp</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.SuiteSetUp</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
</h2></br><br/><br/><strike>-<br/>LastModifyingUser<a title="create page" href="PlugIns.JdbcSlim.XxTestMoreDrivers.HtwoTest.LastModifyingUser?edit&amp;nonExistent=true.html">[?]</a>: six42<br/></strike>-<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Setup jdbcSlim</p>
	<div><table>
	<tr>
		<td>import</td>
	</tr>
	<tr>
		<td>six42.fitnesse.jdbcslim</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td colspan="2">define table type</td>
	</tr>
	<tr>
		<td>SQLCommand</td>
		<td>as Table</td>
	</tr>
</table>
<br/></div>
</div>
<div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Driver specific setup </p>
	<div><span class="meta">classpath: ./plugins/jdbcslim/h2-*.jar</span><br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>TestDatabase</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>jdbcDriver</td>
		<td>org.h2.Driver</td>
	</tr>
	<tr>
		<td>#DBURL</td>
		<td>jdbc:h2:~/h2db</td>
	</tr>
	<tr>
		<td>DBURL</td>
		<td>jdbc:h2:mem:h2db;DB_CLOSE_DELAY=-1</td>
	</tr>
	<tr>
		<td>DBUSER</td>
		<td>na</td>
	</tr>
	<tr>
		<td>DBPASSWORD</td>
		<td>na</td>
	</tr>
	<tr>
		<td>#DBAUTOCOMMIT</td>
		<td>true</td>
	</tr>
	<tr>
		<td>CMD</td>
		<td></td>
	</tr>
</table>
<br/></div>
</div>
<div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Create database and add data</p>
	<div><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>TransactionDatabase</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TestDatabase</td>
	</tr>
	<tr>
		<td>dbconnection</td>
		<td>h2WithTransaction</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>Define Properties</td>
		<td>StartupDatabase</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TestDatabase</td>
	</tr>
	<tr>
		<td>dbconnection</td>
		<td>h2init</td>
	</tr>
	<tr>
		<td>dbupdatecount</td>
		<td>false</td>
	</tr>
	<tr>
		<td>dbgetgeneratedkeys</td>
		<td>false</td>
	</tr>
</table>
<br/><br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>StartupDatabase</td>
	</tr>
	<tr>
		<td colspan="3">openConnection</td>
	</tr>
	<tr>
		<td>execute</td>
		<td colspan="2">drop table if exists TestData</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">success</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">rawResult</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">resultSheet</td>
	</tr>
	<tr>
		<td>execute</td>
		<td colspan="2">create table TestData (Id int identity(1,1), Name varchar(255), Phone long, City varchar(255), Profession varchar(255))</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">success</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">rawResult</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="2">resultSheet</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>StartupDatabase</td>
		<td>insert into TestData
values (DEFAULT, '%Name%', %Phone%, '%City%', '%Profession%')</td>
		<td colspan="2">dbgetgeneratedkeys</td>
	</tr>
	<tr>
		<td>SCOPE_IDENTITY()?</td>
		<td>City</td>
		<td>Name</td>
		<td>Phone</td>
		<td>Profession</td>
	</tr>
	<tr>
		<td>1</td>
		<td>Berlin</td>
		<td>Bill</td>
		<td>12345</td>
		<td>Doctor</td>
	</tr>
	<tr>
		<td>2</td>
		<td>Denver</td>
		<td>Ben</td>
		<td>6789</td>
		<td>Artist</td>
	</tr>
	<tr>
		<td>3</td>
		<td>Seoul</td>
		<td>Tom</td>
		<td>4567890</td>
		<td>Milkman</td>
	</tr>
	<tr>
		<td>4</td>
		<td>Berlin</td>
		<td>Till</td>
		<td>332211</td>
		<td>Senator</td>
	</tr>
	<tr>
		<td>5</td>
		<td>Paris</td>
		<td>Sarah</td>
		<td>999999</td>
		<td>Hero</td>
	</tr>
	<tr>
		<td>6</td>
		<td>London</td>
		<td>James</td>
		<td>#null#</td>
		<td>Butler</td>
	</tr>
	<tr>
		<td>7</td>
		<td>Washington</td>
		<td>Bert</td>
		<td>432</td>
		<td>President</td>
	</tr>
	<tr>
		<td>8</td>
		<td>New York</td>
		<td>Kim</td>
		<td>1</td>
		<td>Banker</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>StartupDatabase</td>
		<td>select * from TestData</td>
		<td colspan="2">Query</td>
	</tr>
	<tr>
		<td>ID</td>
		<td>Name</td>
		<td>Phone</td>
		<td>City</td>
		<td>Profession</td>
	</tr>
	<tr>
		<td>1</td>
		<td>Bill</td>
		<td>12345</td>
		<td>Berlin</td>
		<td>Doctor</td>
	</tr>
	<tr>
		<td>2</td>
		<td>Ben</td>
		<td>6789</td>
		<td>Denver</td>
		<td>Artist</td>
	</tr>
	<tr>
		<td>3</td>
		<td>Tom</td>
		<td>4567890</td>
		<td>Seoul</td>
		<td>Milkman</td>
	</tr>
	<tr>
		<td>4</td>
		<td>Till</td>
		<td>332211</td>
		<td>Berlin</td>
		<td>Senator</td>
	</tr>
	<tr>
		<td>5</td>
		<td>Sarah</td>
		<td>999999</td>
		<td>Paris</td>
		<td>Hero</td>
	</tr>
	<tr>
		<td>6</td>
		<td>James</td>
		<td>#null#</td>
		<td>London</td>
		<td>Butler</td>
	</tr>
	<tr>
		<td>7</td>
		<td>Bert</td>
		<td>432</td>
		<td>Washington</td>
		<td>President</td>
	</tr>
	<tr>
		<td>8</td>
		<td>Kim</td>
		<td>1</td>
		<td>New York</td>
		<td>Banker</td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>Script</td>
		<td>SQLCommand</td>
		<td>StartupDatabase</td>
	</tr>
	<tr>
		<td colspan="3">closeConnection</td>
	</tr>
</table>
<br/></div>
</div>
</article></body></html>