<html><head><title>PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.ConnectionReuseViaNaming</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.ConnectionReuseViaNaming</h2></header><article><h2><a href="PlugIns.html">PlugIns</a>
<a href="PlugIns.JdbcSlim.html">JdbcSlim</a>
<a href="PlugIns.JdbcSlim.UserGuide.html">UserGuide</a>
<a href="PlugIns.JdbcSlim.UserGuide.3HowtoConfigureTheDatabaseConnection.html">3HowtoConfigureTheDatabaseConnection</a>
</h2></br><br/>Instead of creating a new connection for each SQL command table a connection can also be reused.<br/><br/>Add the property <b>DBConnection</b> to your configuration and give the connection a unique name.<br/>The connection stays now open and will be reused for all SQL statements which have the same DBConnection property.<br/>IMPORTANT: Don't forget to close the connection at the end of your tests and remove it from the internal list of available connections.<br/><br/><h3>Define a connection and assign it a name with the <b>DBConnection</b> key.</h3>
<br/><table>
	<tr>
		<td>Define Properties</td>
		<td>NamedConnection</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>.include</td>
		<td>TestDatabase</td>
	</tr>
	<tr>
		<td>DBConnection</td>
		<td>TestConnection</td>
	</tr>
</table>
<br/><h3>The connection will be opened at the first usage</h3>
<table>
	<tr>
		<td>SQLCommand</td>
		<td>NamedConnection</td>
		<td>select ID, NAME from TestData where Name ='%NAME%'</td>
	</tr>
	<tr>
		<td>ID?</td>
		<td colspan="2">NAME</td>
	</tr>
	<tr>
		<td>2</td>
		<td colspan="2">Ben</td>
	</tr>
	<tr>
		<td>5</td>
		<td colspan="2">Sarah</td>
	</tr>
</table>
<br/><h3>This will reuse the connection. Apart from the DBConnection name no further property is required.</h3>
<table>
	<tr>
		<td>Define Properties</td>
		<td>ReuseConnection</td>
	</tr>
	<tr>
		<td>key</td>
		<td>value</td>
	</tr>
	<tr>
		<td>DBConnection</td>
		<td>TestConnection</td>
	</tr>
	<tr>
		<td>CMD</td>
		<td></td>
	</tr>
</table>
 <br/><table>
	<tr>
		<td>SQLCommand</td>
		<td>ReuseConnection</td>
		<td>select ID, NAME from TestData where Name ='%NAME%'</td>
	</tr>
	<tr>
		<td>ID?</td>
		<td colspan="2">NAME</td>
	</tr>
	<tr>
		<td>2</td>
		<td colspan="2">Ben</td>
	</tr>
	<tr>
		<td>5</td>
		<td colspan="2">Sarah</td>
	</tr>
</table>
<br/><h3>Close the connection and remove it from the list of available connections</h3>
<table>
	<tr>
		<td>Script: SQLCommand</td>
		<td>ReuseConnection</td>
	</tr>
	<tr>
		<td colspan="2">closeConnection</td>
	</tr>
	<tr>
		<td>removeConnection</td>
		<td>TestConnection</td>
	</tr>
</table>
<br/><h3>Another access to the connection will fail</h3>
<table>
	<tr>
		<td>comment: SQLCommand</td>
		<td>ReuseConnection</td>
		<td>select ID, NAME from TestData where Name ='%NAME%'</td>
	</tr>
	<tr>
		<td>ID?</td>
		<td colspan="2">NAME</td>
	</tr>
	<tr>
		<td></td>
		<td colspan="2">Ben</td>
	</tr>
	<tr>
		<td></td>
		<td colspan="2">Sarah</td>
	</tr>
</table>
</article></body></html>